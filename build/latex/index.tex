\label{index_md__home_neofelis_VRX_drift_doc_main}%
\Hypertarget{index_md__home_neofelis_VRX_drift_doc_main}%
\hypertarget{index_autotoc_md16}{}\doxysection{Description}\label{index_autotoc_md16}
DRIFT is a real-\/time symmetry-\/preserving propioceptive state estimation framework. The current implementation is based on the \href{https://www.annualreviews.org/doi/10.1146/annurev-control-060117-105010}{\texttt{ Invariant Kalman Filtering (In\+EKF)}}. By default, DRIFT supports legged robots, differential-\/drive wheeled robots, full-\/size vehicles with shaft encoders and marine robots with Doppler Velocity Log (DVL).

DRIFT is designed to be modular and easy to expand to different platforms. It can be used as a standalone C++ library. Alternatively, we provide a ROS1 wrapper for easy communication between sensors.\hypertarget{index_autotoc_md17}{}\doxysection{Run Time Analysis}\label{index_autotoc_md17}
We perform runtime evaluations using a personal laptop with an Intel i5-\/11400H CPU and an NVIDIA Jetson AGX Xavier (CPU). DRIFT can operate at an extremely high frequency using CPU-\/only computation, even on the resourced-\/constrained Jetson AGX Xavier. For the optional contact estimator, the inference speed on an NVIDIA RTX 3090 GPU is approximately 1100 Hz, and the inference speed on a Jetson AGX Xavier (GPU) is around 830 Hz after Tensor\+RT optimization.\hypertarget{index_autotoc_md18}{}\doxysection{Dependencies}\label{index_autotoc_md18}
We have tested the library in {\bfseries{Ubuntu 20.\+04}} and {\bfseries{22.\+04}}, but it should be easy to compile in other platforms.

\begin{quote}
\#\#\# C++17 Compiler \end{quote}
We use the threading functionalities of C++17.

\begin{quote}
\#\#\# Eigen3 \end{quote}
Required by header files. Download and install instructions can be found at\+: \href{http://eigen.tuxfamily.org}{\texttt{ http\+://eigen.\+tuxfamily.\+org}}. {\bfseries{Requires at least 3.\+1.\+0}}.

\begin{quote}
\#\#\# Yaml-\/cpp \end{quote}
Required by header files. Download and install instructions can be found at\+: \href{https://github.com/jbeder/yaml-cpp}{\texttt{ https\+://github.\+com/jbeder/yaml-\/cpp}}.

\begin{quote}
\#\#\# ROS1 (Optional) \end{quote}
Building with ROS1 is optional. Instructions are \href{https://github.com/UMich-CURLY/drift/tree/main\#4-ros}{\texttt{ found below}}.\hypertarget{index_autotoc_md19}{}\doxysection{Building DRIFT library}\label{index_autotoc_md19}
Clone the repository\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{git clone https://github.com/UMich-\/CURLY/drift.git}

\end{DoxyCode}
 Create another directory which we will name \textquotesingle{}build\textquotesingle{} and use cmake and make to compile an build project\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{mkdir build}
\DoxyCodeLine{cd build}
\DoxyCodeLine{cmake ..}
\DoxyCodeLine{make -\/j4}

\end{DoxyCode}
\hypertarget{index_autotoc_md20}{}\doxysubsection{Install the library}\label{index_autotoc_md20}
After building the library, you can install the library to the system. This will allow other projects to find the library without needing to specify the path to the library.


\begin{DoxyCode}{0}
\DoxyCodeLine{sudo make install}

\end{DoxyCode}
 Then, you can include the library in your project by adding the following line to your CMake\+Lists.\+txt file\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{find\_package(drift REQUIRED)}

\end{DoxyCode}
\hypertarget{index_autotoc_md21}{}\doxysection{ROS}\label{index_autotoc_md21}
\hypertarget{index_autotoc_md22}{}\doxysubsection{Examples}\label{index_autotoc_md22}
We provide several examples in the {\ttfamily ROS/examples} directory.\hypertarget{index_autotoc_md23}{}\doxysubsection{Building the ROS1 node}\label{index_autotoc_md23}

\begin{DoxyEnumerate}
\item Add {\ttfamily /\+ROS/drift} to the {\ttfamily ROS\+\_\+\+PACKAGE\+\_\+\+PATH} environment variable. Open your $\sim$/.bashrc file in a text editor and add the following line to the end. Replace PATH/\+TO with the directory path to where you cloned drift\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{export ROS\_PACKAGE\_PATH=\$\{ROS\_PACKAGE\_PATH\}:PATH/TO/drift/ROS/drift}

\end{DoxyCode}


Then 
\begin{DoxyCode}{0}
\DoxyCodeLine{source \string~/.bashrc}

\end{DoxyCode}

\item Execute {\ttfamily build\+\_\+ros.\+sh} script in the repository root directory\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{cd <PATH>/<TO>/drift}
\DoxyCodeLine{chmod +x build\_ros.sh}
\DoxyCodeLine{./build\_ros.sh}

\end{DoxyCode}

\end{DoxyEnumerate}\hypertarget{index_autotoc_md24}{}\doxysubsection{Run examples}\label{index_autotoc_md24}
{\bfseries{Clearpath Husky robot\+:}} 
\begin{DoxyCode}{0}
\DoxyCodeLine{rosrun drift husky}

\end{DoxyCode}


{\bfseries{Fetch robot with the gyro filter\+:}} 
\begin{DoxyCode}{0}
\DoxyCodeLine{rosrun drift fetch}

\end{DoxyCode}


{\bfseries{Full-\/size vehicle\+:}} 
\begin{DoxyCode}{0}
\DoxyCodeLine{rosrun drift neya}

\end{DoxyCode}


{\bfseries{MIT mini-\/cheetah robot\+:}} 
\begin{DoxyCode}{0}
\DoxyCodeLine{rosrun drift mini\_cheetah}

\end{DoxyCode}


{\bfseries{Girona500 (Marine robot)\+:}} 
\begin{DoxyCode}{0}
\DoxyCodeLine{rosrun drift girona500}

\end{DoxyCode}
\hypertarget{index_autotoc_md25}{}\doxysubsection{Run the repo with your own robots\+:}\label{index_autotoc_md25}
Please refer to the tutorial here\+: \href{https://umich-curly.github.io/DRIFT_Website/tutorials/}{\texttt{ https\+://umich-\/curly.\+github.\+io/\+DRIFT\+\_\+\+Website/tutorials/}}.\hypertarget{index_autotoc_md26}{}\doxysection{Contact Estimation}\label{index_autotoc_md26}
The contact estimation and the contact data set can be found in \href{https://github.com/UMich-CURLY/deep-contact-estimator}{\texttt{ https\+://github.\+com/\+UMich-\/\+CURLY/deep-\/contact-\/estimator}}.\hypertarget{index_autotoc_md27}{}\doxysection{Citations}\label{index_autotoc_md27}
If you find this work useful, please kindly cite the following papers


\begin{DoxyItemize}
\item Tzu-\/\+Yuan Lin, Tingjun Li, Wenzhe Tong, and Maani Ghaffari. \char`\"{}\+Proprioceptive Invariant Robot State Estimation.\char`\"{} ar\+Xiv preprint ar\+Xiv\+:2311.\+04320 (2023). (Under review for Transaction on Robotics) 
\begin{DoxyCode}{0}
\DoxyCodeLine{@article\{lin2023proprioceptive,}
\DoxyCodeLine{  title=\{Proprioceptive Invariant Robot State Estimation\},}
\DoxyCodeLine{  author=\{Lin, Tzu-\/Yuan and Li, Tingjun and Tong, Wenzhe and Ghaffari, Maani\},}
\DoxyCodeLine{  journal=\{arXiv preprint arXiv:2311.04320\},}
\DoxyCodeLine{  year=\{2023\}}
\DoxyCodeLine{\}}

\end{DoxyCode}

\item Tzu-\/\+Yuan Lin, Ray Zhang, Justin Yu, and Maani Ghaffari. \char`\"{}\+Legged Robot State Estimation using Invariant Kalman Filtering and Learned Contact Events.\char`\"{} In Conference on robot learning. PMLR, 2021 
\begin{DoxyCode}{0}
\DoxyCodeLine{@inproceedings\{}
\DoxyCodeLine{   lin2021legged,}
\DoxyCodeLine{   title=\{Legged Robot State Estimation using Invariant Kalman Filtering and Learned Contact Events\},}
\DoxyCodeLine{   author=\{Tzu-\/Yuan Lin and Ray Zhang and Justin Yu and Maani Ghaffari\},}
\DoxyCodeLine{   booktitle=\{5th Annual Conference on Robot Learning \},}
\DoxyCodeLine{   year=\{2021\},}
\DoxyCodeLine{   url=\{https://openreview.net/forum?id=yt3tDB67lc5\}}
\DoxyCodeLine{\}}

\end{DoxyCode}

\end{DoxyItemize}\hypertarget{index_autotoc_md28}{}\doxysection{License}\label{index_autotoc_md28}
DRIFT is released under a \href{https://github.com/UMich-CURLY/drift/blob/main/LICENSE}{\texttt{ BSD 3-\/Clause License}}. 