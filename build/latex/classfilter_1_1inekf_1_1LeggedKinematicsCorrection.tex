\hypertarget{classfilter_1_1inekf_1_1LeggedKinematicsCorrection}{}\doxysection{filter\+::inekf\+::Legged\+Kinematics\+Correction Class Reference}
\label{classfilter_1_1inekf_1_1LeggedKinematicsCorrection}\index{filter::inekf::LeggedKinematicsCorrection@{filter::inekf::LeggedKinematicsCorrection}}


A class for state correction using foot kinematics and contact events.  




{\ttfamily \#include $<$legged\+\_\+kinematics\+\_\+correction.\+h$>$}



Inheritance diagram for filter\+::inekf\+::Legged\+Kinematics\+Correction\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=246pt]{classfilter_1_1inekf_1_1LeggedKinematicsCorrection__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for filter\+::inekf\+::Legged\+Kinematics\+Correction\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=246pt]{classfilter_1_1inekf_1_1LeggedKinematicsCorrection__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{Indent}\textbf{ Constructors}\par
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classfilter_1_1inekf_1_1LeggedKinematicsCorrection_adef2c3dd22bcf7b202ad65dce24bee63}{Legged\+Kinematics\+Correction}} (\mbox{\hyperlink{type__def_8h_aa0b6009ff28d4061513537e85d721021}{Legged\+Kin\+Queue\+Ptr}} sensor\+\_\+data\+\_\+buffer\+\_\+ptr, std\+::shared\+\_\+ptr$<$ std\+::mutex $>$ sensor\+\_\+data\+\_\+buffer\+\_\+mutex\+\_\+ptr, const \mbox{\hyperlink{namespacefilter_1_1inekf_a7ef14ea922d7f9fc9e348cb4a18e1823}{Error\+Type}} \&error\+\_\+type, const std\+::string \&yaml\+\_\+filepath)
\begin{DoxyCompactList}\small\item\em Constructor for the legged kinematics correction class. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}\textbf{ Correction Methods}\par
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{classfilter_1_1inekf_1_1LeggedKinematicsCorrection_aa845425e0787cca07eb6f8200d2ce830}{Correct}} (\mbox{\hyperlink{classstate_1_1RobotState}{Robot\+State}} \&state) override
\begin{DoxyCompactList}\small\item\em Corrects the state estimate using the measured forward kinematics between the IMU and a set of contact frames. If contact is indicated but not included in the state, the state is augmented to include the estimated contact position. If contact is not indicated but is included in the state, the contact position is marginalized out of the state. Default is a right-\/invariant measurement model. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}\textbf{ Getters}\par
\begin{DoxyCompactItemize}
\item 
const \mbox{\hyperlink{type__def_8h_aa0b6009ff28d4061513537e85d721021}{Legged\+Kin\+Queue\+Ptr}} \mbox{\hyperlink{classfilter_1_1inekf_1_1LeggedKinematicsCorrection_aa1c65a2e8296379a50d45c7c25bab3b1}{get\+\_\+sensor\+\_\+data\+\_\+buffer\+\_\+ptr}} () const
\begin{DoxyCompactList}\small\item\em Return the pointer of the sensor data buffer. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}\textbf{ Setters}\par
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{classfilter_1_1inekf_1_1LeggedKinematicsCorrection_aad6c45dae9868a65ac67408dbe2f546a}{initialize}} (\mbox{\hyperlink{classstate_1_1RobotState}{Robot\+State}} \&state) override
\begin{DoxyCompactList}\small\item\em Set the initial velocity of the robot. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classfilter_1_1inekf_1_1LeggedKinematicsCorrection_a549b63e6540f766dc21c4bbb1fbd5303}{clear}} () override
\begin{DoxyCompactList}\small\item\em Clear the sensor data buffer. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
A class for state correction using foot kinematics and contact events. 

A class for state correction using foot kinematics and contact events. This class handles the correction of the state estimate using the measured forward kinematics between the body frame and a set of contact frames. If contact is indicated but not included in the state, the state is augmented to include the estimated contact foot position. If contact is not indicated but is included in the robot state, the contact position is then marginalized out of the state. Default is a right-\/invariant measurement model. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classfilter_1_1inekf_1_1LeggedKinematicsCorrection_adef2c3dd22bcf7b202ad65dce24bee63}\label{classfilter_1_1inekf_1_1LeggedKinematicsCorrection_adef2c3dd22bcf7b202ad65dce24bee63}} 
\index{filter::inekf::LeggedKinematicsCorrection@{filter::inekf::LeggedKinematicsCorrection}!LeggedKinematicsCorrection@{LeggedKinematicsCorrection}}
\index{LeggedKinematicsCorrection@{LeggedKinematicsCorrection}!filter::inekf::LeggedKinematicsCorrection@{filter::inekf::LeggedKinematicsCorrection}}
\doxysubsubsection{\texorpdfstring{LeggedKinematicsCorrection()}{LeggedKinematicsCorrection()}}
{\footnotesize\ttfamily filter\+::inekf\+::\+Legged\+Kinematics\+Correction\+::\+Legged\+Kinematics\+Correction (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{type__def_8h_aa0b6009ff28d4061513537e85d721021}{Legged\+Kin\+Queue\+Ptr}}}]{sensor\+\_\+data\+\_\+buffer\+\_\+ptr,  }\item[{std\+::shared\+\_\+ptr$<$ std\+::mutex $>$}]{sensor\+\_\+data\+\_\+buffer\+\_\+mutex\+\_\+ptr,  }\item[{const \mbox{\hyperlink{namespacefilter_1_1inekf_a7ef14ea922d7f9fc9e348cb4a18e1823}{Error\+Type}} \&}]{error\+\_\+type,  }\item[{const std\+::string \&}]{yaml\+\_\+filepath }\end{DoxyParamCaption})}



Constructor for the legged kinematics correction class. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em sensor\+\_\+data\+\_\+buffer\+\_\+ptr} & Pointer to the buffer of sensor data \\
\hline
\mbox{\texttt{ in}}  & {\em sensor\+\_\+data\+\_\+buffer\+\_\+mutex\+\_\+ptr} & Pointer to the mutex for the sensor data buffer \\
\hline
\mbox{\texttt{ in}}  & {\em error\+\_\+type} & Error type for the correction. Left\+Invariant or Right\+Invariant \\
\hline
\mbox{\texttt{ in}}  & {\em yaml\+\_\+filepath} & Path of the yaml file for the correction \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classfilter_1_1inekf_1_1LeggedKinematicsCorrection_a549b63e6540f766dc21c4bbb1fbd5303}\label{classfilter_1_1inekf_1_1LeggedKinematicsCorrection_a549b63e6540f766dc21c4bbb1fbd5303}} 
\index{filter::inekf::LeggedKinematicsCorrection@{filter::inekf::LeggedKinematicsCorrection}!clear@{clear}}
\index{clear@{clear}!filter::inekf::LeggedKinematicsCorrection@{filter::inekf::LeggedKinematicsCorrection}}
\doxysubsubsection{\texorpdfstring{clear()}{clear()}}
{\footnotesize\ttfamily void filter\+::inekf\+::\+Legged\+Kinematics\+Correction\+::clear (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Clear the sensor data buffer. 



Reimplemented from \mbox{\hyperlink{classfilter_1_1Correction_ac021bf9144d6549ac70c09f3488aba33}{filter\+::\+Correction}}.

\mbox{\Hypertarget{classfilter_1_1inekf_1_1LeggedKinematicsCorrection_aa845425e0787cca07eb6f8200d2ce830}\label{classfilter_1_1inekf_1_1LeggedKinematicsCorrection_aa845425e0787cca07eb6f8200d2ce830}} 
\index{filter::inekf::LeggedKinematicsCorrection@{filter::inekf::LeggedKinematicsCorrection}!Correct@{Correct}}
\index{Correct@{Correct}!filter::inekf::LeggedKinematicsCorrection@{filter::inekf::LeggedKinematicsCorrection}}
\doxysubsubsection{\texorpdfstring{Correct()}{Correct()}}
{\footnotesize\ttfamily bool filter\+::inekf\+::\+Legged\+Kinematics\+Correction\+::\+Correct (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classstate_1_1RobotState}{Robot\+State}} \&}]{state }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Corrects the state estimate using the measured forward kinematics between the IMU and a set of contact frames. If contact is indicated but not included in the state, the state is augmented to include the estimated contact position. If contact is not indicated but is included in the state, the contact position is marginalized out of the state. Default is a right-\/invariant measurement model. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em state} & the current state estimate \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool\+: successfully correct state or not (if we do not receive a new message and this method is called it\textquotesingle{}ll return false.) 
\end{DoxyReturn}


Reimplemented from \mbox{\hyperlink{classfilter_1_1Correction_adf7ced0837a6bc272441dbe6482fba83}{filter\+::\+Correction}}.

\mbox{\Hypertarget{classfilter_1_1inekf_1_1LeggedKinematicsCorrection_aa1c65a2e8296379a50d45c7c25bab3b1}\label{classfilter_1_1inekf_1_1LeggedKinematicsCorrection_aa1c65a2e8296379a50d45c7c25bab3b1}} 
\index{filter::inekf::LeggedKinematicsCorrection@{filter::inekf::LeggedKinematicsCorrection}!get\_sensor\_data\_buffer\_ptr@{get\_sensor\_data\_buffer\_ptr}}
\index{get\_sensor\_data\_buffer\_ptr@{get\_sensor\_data\_buffer\_ptr}!filter::inekf::LeggedKinematicsCorrection@{filter::inekf::LeggedKinematicsCorrection}}
\doxysubsubsection{\texorpdfstring{get\_sensor\_data\_buffer\_ptr()}{get\_sensor\_data\_buffer\_ptr()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{type__def_8h_aa0b6009ff28d4061513537e85d721021}{Legged\+Kin\+Queue\+Ptr}} filter\+::inekf\+::\+Legged\+Kinematics\+Correction\+::get\+\_\+sensor\+\_\+data\+\_\+buffer\+\_\+ptr (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Return the pointer of the sensor data buffer. 

\begin{DoxyReturn}{Returns}
Legged\+Kin\+Queue\+Ptr\+: pointer of the sensor data buffer 
\end{DoxyReturn}
\mbox{\Hypertarget{classfilter_1_1inekf_1_1LeggedKinematicsCorrection_aad6c45dae9868a65ac67408dbe2f546a}\label{classfilter_1_1inekf_1_1LeggedKinematicsCorrection_aad6c45dae9868a65ac67408dbe2f546a}} 
\index{filter::inekf::LeggedKinematicsCorrection@{filter::inekf::LeggedKinematicsCorrection}!initialize@{initialize}}
\index{initialize@{initialize}!filter::inekf::LeggedKinematicsCorrection@{filter::inekf::LeggedKinematicsCorrection}}
\doxysubsubsection{\texorpdfstring{initialize()}{initialize()}}
{\footnotesize\ttfamily bool filter\+::inekf\+::\+Legged\+Kinematics\+Correction\+::initialize (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classstate_1_1RobotState}{Robot\+State}} \&}]{state }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Set the initial velocity of the robot. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em state} & the current state estimate, which will be initialized \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool\+: whether the initialization is successful 
\end{DoxyReturn}


Reimplemented from \mbox{\hyperlink{classfilter_1_1Correction_a40aaef389d8cbe2ec0011ecd4bf74a8b}{filter\+::\+Correction}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/neofelis/\+VRX/drift/include/drift/filter/inekf/correction/\mbox{\hyperlink{legged__kinematics__correction_8h}{legged\+\_\+kinematics\+\_\+correction.\+h}}\item 
/home/neofelis/\+VRX/drift/src/filter/inekf/correction/\mbox{\hyperlink{legged__kinematics__correction_8cpp}{legged\+\_\+kinematics\+\_\+correction.\+cpp}}\end{DoxyCompactItemize}
