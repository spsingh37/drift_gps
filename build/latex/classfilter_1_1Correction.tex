\hypertarget{classfilter_1_1Correction}{}\doxysection{filter\+::Correction Class Reference}
\label{classfilter_1_1Correction}\index{filter::Correction@{filter::Correction}}


Base class for correction method. This class just provides a skeleton for the correction method. It should be implemented in the child class.  




{\ttfamily \#include $<$base\+\_\+correction.\+h$>$}



Inheritance diagram for filter\+::Correction\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classfilter_1_1Correction__inherit__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{Indent}\textbf{ Constructors}\par
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classfilter_1_1Correction_a761d0214e794b840558aaa5ae2067377}{Correction}} ()
\begin{DoxyCompactList}\small\item\em Constructor for the base correction class. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classfilter_1_1Correction_a6e3984f7d0141cd2cc2b14f1868ce19e}{Correction}} (std\+::shared\+\_\+ptr$<$ std\+::mutex $>$ sensor\+\_\+data\+\_\+buffer\+\_\+mutex\+\_\+ptr)
\begin{DoxyCompactList}\small\item\em Construct a new \mbox{\hyperlink{classfilter_1_1Correction}{Correction}} object with mutex. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}\textbf{ Correction}\par
\begin{DoxyCompactItemize}
\item 
virtual bool \mbox{\hyperlink{classfilter_1_1Correction_adf7ced0837a6bc272441dbe6482fba83}{Correct}} (\mbox{\hyperlink{classstate_1_1RobotState}{Robot\+State}} \&state)
\begin{DoxyCompactList}\small\item\em This is a skeleton for the correction method. It should be implemented in the child class. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}\textbf{ Getters}\par
\begin{DoxyCompactItemize}
\item 
virtual \mbox{\hyperlink{type__def_8h_a8e77af02b888a3b41151a1bfdef770c1}{Measurement\+Queue\+Ptr}} \mbox{\hyperlink{classfilter_1_1Correction_af8c4af8b133743e18cc160a092dabfcb}{get\+\_\+sensor\+\_\+data\+\_\+buffer\+\_\+ptr}} ()
\begin{DoxyCompactList}\small\item\em Get the pointer to the sensor data buffer. \end{DoxyCompactList}\item 
const \mbox{\hyperlink{base__correction_8h_a9266b7a222c90ab4055a2e81c13d20c3}{Correction\+Type}} \mbox{\hyperlink{classfilter_1_1Correction_a116a822d85ec41f196c7d19550b6ab54}{get\+\_\+correction\+\_\+type}} () const
\begin{DoxyCompactList}\small\item\em Get the correction type. \end{DoxyCompactList}\item 
std\+::shared\+\_\+ptr$<$ std\+::mutex $>$ \mbox{\hyperlink{classfilter_1_1Correction_a8a89cc47332103d6527a3c2a313979e2}{get\+\_\+mutex\+\_\+ptr}} ()
\begin{DoxyCompactList}\small\item\em Get the pointer to the mutex of the sensor data buffer. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\doxysubsection*{Setters}
\begin{DoxyCompactItemize}
\item 
const Eigen\+::\+Vector3d \mbox{\hyperlink{classfilter_1_1Correction_ac564e9f793ec16ac3a6d588e066dad7f}{g\+\_\+}}
\item 
Eigen\+::\+Vector3d \mbox{\hyperlink{classfilter_1_1Correction_a5899a8878c9684f9b6411d18f82aea01}{magnetic\+\_\+field\+\_\+}}
\item 
\mbox{\hyperlink{base__correction_8h_a9266b7a222c90ab4055a2e81c13d20c3}{Correction\+Type}} \mbox{\hyperlink{classfilter_1_1Correction_aa1beb017dfa7137087536520d355326a}{correction\+\_\+type\+\_\+}}
\item 
double \mbox{\hyperlink{classfilter_1_1Correction_a24d1a025e5789bea0ad13d9616994c31}{t\+\_\+diff\+\_\+thres\+\_\+}}
\item 
std\+::shared\+\_\+ptr$<$ std\+::mutex $>$ \mbox{\hyperlink{classfilter_1_1Correction_ab1439ce5b57fd84c3b34893386fd0fed}{sensor\+\_\+data\+\_\+buffer\+\_\+mutex\+\_\+ptr\+\_\+}}
\item 
virtual bool \mbox{\hyperlink{classfilter_1_1Correction_a40aaef389d8cbe2ec0011ecd4bf74a8b}{initialize}} (\mbox{\hyperlink{classstate_1_1RobotState}{Robot\+State}} \&state)
\begin{DoxyCompactList}\small\item\em Set the initial velocity to the state. This is a dummy method and should be implemented in the child class. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classfilter_1_1Correction_ac021bf9144d6549ac70c09f3488aba33}{clear}} ()
\begin{DoxyCompactList}\small\item\em Clear the sensor data buffer. Need to be override in the child class. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Base class for correction method. This class just provides a skeleton for the correction method. It should be implemented in the child class. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classfilter_1_1Correction_a761d0214e794b840558aaa5ae2067377}\label{classfilter_1_1Correction_a761d0214e794b840558aaa5ae2067377}} 
\index{filter::Correction@{filter::Correction}!Correction@{Correction}}
\index{Correction@{Correction}!filter::Correction@{filter::Correction}}
\doxysubsubsection{\texorpdfstring{Correction()}{Correction()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily filter\+::\+Correction\+::\+Correction (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Constructor for the base correction class. 

\mbox{\Hypertarget{classfilter_1_1Correction_a6e3984f7d0141cd2cc2b14f1868ce19e}\label{classfilter_1_1Correction_a6e3984f7d0141cd2cc2b14f1868ce19e}} 
\index{filter::Correction@{filter::Correction}!Correction@{Correction}}
\index{Correction@{Correction}!filter::Correction@{filter::Correction}}
\doxysubsubsection{\texorpdfstring{Correction()}{Correction()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily filter\+::\+Correction\+::\+Correction (\begin{DoxyParamCaption}\item[{std\+::shared\+\_\+ptr$<$ std\+::mutex $>$}]{sensor\+\_\+data\+\_\+buffer\+\_\+mutex\+\_\+ptr }\end{DoxyParamCaption})}



Construct a new \mbox{\hyperlink{classfilter_1_1Correction}{Correction}} object with mutex. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em sensor\+\_\+data\+\_\+buffer\+\_\+mutex\+\_\+ptr} & a pointer to the mutex of the sensor data buffer \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classfilter_1_1Correction_ac021bf9144d6549ac70c09f3488aba33}\label{classfilter_1_1Correction_ac021bf9144d6549ac70c09f3488aba33}} 
\index{filter::Correction@{filter::Correction}!clear@{clear}}
\index{clear@{clear}!filter::Correction@{filter::Correction}}
\doxysubsubsection{\texorpdfstring{clear()}{clear()}}
{\footnotesize\ttfamily void filter\+::\+Correction\+::clear (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Clear the sensor data buffer. Need to be override in the child class. 



Reimplemented in \mbox{\hyperlink{classfilter_1_1inekf_1_1LeggedKinematicsCorrection_a549b63e6540f766dc21c4bbb1fbd5303}{filter\+::inekf\+::\+Legged\+Kinematics\+Correction}}, \mbox{\hyperlink{classfilter_1_1inekf_1_1PoseCorrection_ad917866e4d9586d28be30828615c95cc}{filter\+::inekf\+::\+Pose\+Correction}}, and \mbox{\hyperlink{classfilter_1_1inekf_1_1VelocityCorrection_a30525f78e38eb0e4522263eccc26d3e9}{filter\+::inekf\+::\+Velocity\+Correction}}.

\mbox{\Hypertarget{classfilter_1_1Correction_adf7ced0837a6bc272441dbe6482fba83}\label{classfilter_1_1Correction_adf7ced0837a6bc272441dbe6482fba83}} 
\index{filter::Correction@{filter::Correction}!Correct@{Correct}}
\index{Correct@{Correct}!filter::Correction@{filter::Correction}}
\doxysubsubsection{\texorpdfstring{Correct()}{Correct()}}
{\footnotesize\ttfamily bool filter\+::\+Correction\+::\+Correct (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classstate_1_1RobotState}{Robot\+State}} \&}]{state }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



This is a skeleton for the correction method. It should be implemented in the child class. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em state} & The current state of the robot \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool\+: successfully correct state or not (if we do not receive a new message and this method is called it\textquotesingle{}ll return false.) 
\end{DoxyReturn}


Reimplemented in \mbox{\hyperlink{classfilter_1_1inekf_1_1LeggedKinematicsCorrection_aa845425e0787cca07eb6f8200d2ce830}{filter\+::inekf\+::\+Legged\+Kinematics\+Correction}}, \mbox{\hyperlink{classfilter_1_1inekf_1_1PoseCorrection_a557823e69feaaf4c2b593633022eeac4}{filter\+::inekf\+::\+Pose\+Correction}}, and \mbox{\hyperlink{classfilter_1_1inekf_1_1VelocityCorrection_a199e959b9b940322780ea2ac11a14009}{filter\+::inekf\+::\+Velocity\+Correction}}.

\mbox{\Hypertarget{classfilter_1_1Correction_a116a822d85ec41f196c7d19550b6ab54}\label{classfilter_1_1Correction_a116a822d85ec41f196c7d19550b6ab54}} 
\index{filter::Correction@{filter::Correction}!get\_correction\_type@{get\_correction\_type}}
\index{get\_correction\_type@{get\_correction\_type}!filter::Correction@{filter::Correction}}
\doxysubsubsection{\texorpdfstring{get\_correction\_type()}{get\_correction\_type()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{base__correction_8h_a9266b7a222c90ab4055a2e81c13d20c3}{Correction\+Type}} filter\+::\+Correction\+::get\+\_\+correction\+\_\+type (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Get the correction type. 

\begin{DoxyReturn}{Returns}
Correction\+Type\+: the correction type 
\end{DoxyReturn}
\mbox{\Hypertarget{classfilter_1_1Correction_a8a89cc47332103d6527a3c2a313979e2}\label{classfilter_1_1Correction_a8a89cc47332103d6527a3c2a313979e2}} 
\index{filter::Correction@{filter::Correction}!get\_mutex\_ptr@{get\_mutex\_ptr}}
\index{get\_mutex\_ptr@{get\_mutex\_ptr}!filter::Correction@{filter::Correction}}
\doxysubsubsection{\texorpdfstring{get\_mutex\_ptr()}{get\_mutex\_ptr()}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$ std\+::mutex $>$ filter\+::\+Correction\+::get\+\_\+mutex\+\_\+ptr (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Get the pointer to the mutex of the sensor data buffer. 

\begin{DoxyReturn}{Returns}
std\+::shared\+\_\+ptr$<$std\+::mutex$>$\+: a pointer to the mutex of the sensor data buffer 
\end{DoxyReturn}
\mbox{\Hypertarget{classfilter_1_1Correction_af8c4af8b133743e18cc160a092dabfcb}\label{classfilter_1_1Correction_af8c4af8b133743e18cc160a092dabfcb}} 
\index{filter::Correction@{filter::Correction}!get\_sensor\_data\_buffer\_ptr@{get\_sensor\_data\_buffer\_ptr}}
\index{get\_sensor\_data\_buffer\_ptr@{get\_sensor\_data\_buffer\_ptr}!filter::Correction@{filter::Correction}}
\doxysubsubsection{\texorpdfstring{get\_sensor\_data\_buffer\_ptr()}{get\_sensor\_data\_buffer\_ptr()}}
{\footnotesize\ttfamily \mbox{\hyperlink{type__def_8h_a8e77af02b888a3b41151a1bfdef770c1}{Measurement\+Queue\+Ptr}} filter\+::\+Correction\+::get\+\_\+sensor\+\_\+data\+\_\+buffer\+\_\+ptr (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Get the pointer to the sensor data buffer. 

\begin{DoxyReturn}{Returns}
Measurement\+Queue\+Ptr\+: a pointer to the sensor data buffer 
\end{DoxyReturn}
\mbox{\Hypertarget{classfilter_1_1Correction_a40aaef389d8cbe2ec0011ecd4bf74a8b}\label{classfilter_1_1Correction_a40aaef389d8cbe2ec0011ecd4bf74a8b}} 
\index{filter::Correction@{filter::Correction}!initialize@{initialize}}
\index{initialize@{initialize}!filter::Correction@{filter::Correction}}
\doxysubsubsection{\texorpdfstring{initialize()}{initialize()}}
{\footnotesize\ttfamily bool filter\+::\+Correction\+::initialize (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classstate_1_1RobotState}{Robot\+State}} \&}]{state }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Set the initial velocity to the state. This is a dummy method and should be implemented in the child class. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em state} & the current state estimate, which will be initialized \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool\+: whether the initialization is successful 
\end{DoxyReturn}


Reimplemented in \mbox{\hyperlink{classfilter_1_1inekf_1_1LeggedKinematicsCorrection_aad6c45dae9868a65ac67408dbe2f546a}{filter\+::inekf\+::\+Legged\+Kinematics\+Correction}}, \mbox{\hyperlink{classfilter_1_1inekf_1_1PoseCorrection_ac6b323b3a603f35e79127d85f3636a01}{filter\+::inekf\+::\+Pose\+Correction}}, and \mbox{\hyperlink{classfilter_1_1inekf_1_1VelocityCorrection_aca1a4f9197813a1aae680c0130c52573}{filter\+::inekf\+::\+Velocity\+Correction}}.



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classfilter_1_1Correction_aa1beb017dfa7137087536520d355326a}\label{classfilter_1_1Correction_aa1beb017dfa7137087536520d355326a}} 
\index{filter::Correction@{filter::Correction}!correction\_type\_@{correction\_type\_}}
\index{correction\_type\_@{correction\_type\_}!filter::Correction@{filter::Correction}}
\doxysubsubsection{\texorpdfstring{correction\_type\_}{correction\_type\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{base__correction_8h_a9266b7a222c90ab4055a2e81c13d20c3}{Correction\+Type}} filter\+::\+Correction\+::correction\+\_\+type\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\hyperlink{classfilter_1_1Correction}{Correction}} type. \mbox{\Hypertarget{classfilter_1_1Correction_ac564e9f793ec16ac3a6d588e066dad7f}\label{classfilter_1_1Correction_ac564e9f793ec16ac3a6d588e066dad7f}} 
\index{filter::Correction@{filter::Correction}!g\_@{g\_}}
\index{g\_@{g\_}!filter::Correction@{filter::Correction}}
\doxysubsubsection{\texorpdfstring{g\_}{g\_}}
{\footnotesize\ttfamily const Eigen\+::\+Vector3d filter\+::\+Correction\+::g\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}

Gravity vector (m/s$^\wedge$2) in world frame (z-\/up). Default is 9.\+80 m/s$^\wedge$2 \mbox{\Hypertarget{classfilter_1_1Correction_a5899a8878c9684f9b6411d18f82aea01}\label{classfilter_1_1Correction_a5899a8878c9684f9b6411d18f82aea01}} 
\index{filter::Correction@{filter::Correction}!magnetic\_field\_@{magnetic\_field\_}}
\index{magnetic\_field\_@{magnetic\_field\_}!filter::Correction@{filter::Correction}}
\doxysubsubsection{\texorpdfstring{magnetic\_field\_}{magnetic\_field\_}}
{\footnotesize\ttfamily Eigen\+::\+Vector3d filter\+::\+Correction\+::magnetic\+\_\+field\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}

Magnetic field vector in world frame (z-\/up). \mbox{\Hypertarget{classfilter_1_1Correction_ab1439ce5b57fd84c3b34893386fd0fed}\label{classfilter_1_1Correction_ab1439ce5b57fd84c3b34893386fd0fed}} 
\index{filter::Correction@{filter::Correction}!sensor\_data\_buffer\_mutex\_ptr\_@{sensor\_data\_buffer\_mutex\_ptr\_}}
\index{sensor\_data\_buffer\_mutex\_ptr\_@{sensor\_data\_buffer\_mutex\_ptr\_}!filter::Correction@{filter::Correction}}
\doxysubsubsection{\texorpdfstring{sensor\_data\_buffer\_mutex\_ptr\_}{sensor\_data\_buffer\_mutex\_ptr\_}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$std\+::mutex$>$ filter\+::\+Correction\+::sensor\+\_\+data\+\_\+buffer\+\_\+mutex\+\_\+ptr\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}

Mutex for the sensor data buffer. \mbox{\Hypertarget{classfilter_1_1Correction_a24d1a025e5789bea0ad13d9616994c31}\label{classfilter_1_1Correction_a24d1a025e5789bea0ad13d9616994c31}} 
\index{filter::Correction@{filter::Correction}!t\_diff\_thres\_@{t\_diff\_thres\_}}
\index{t\_diff\_thres\_@{t\_diff\_thres\_}!filter::Correction@{filter::Correction}}
\doxysubsubsection{\texorpdfstring{t\_diff\_thres\_}{t\_diff\_thres\_}}
{\footnotesize\ttfamily double filter\+::\+Correction\+::t\+\_\+diff\+\_\+thres\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}

Threshold for time difference between two measurements. It stores the value from config file when the class object is created 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/neofelis/\+VRX/drift/include/drift/filter/\mbox{\hyperlink{base__correction_8h}{base\+\_\+correction.\+h}}\item 
/home/neofelis/\+VRX/drift/src/filter/\mbox{\hyperlink{base__correction_8cpp}{base\+\_\+correction.\+cpp}}\end{DoxyCompactItemize}
